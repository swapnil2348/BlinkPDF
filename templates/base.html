<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <title>{% block title %}BlinkPDF â€” All PDF & AI Tools{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <meta name="description"
        content="{% block seo_desc %}Merge, split, compress, convert, sign and edit PDFs online with BlinkPDF.{% endblock %}">
  <meta name="robots" content="index,follow" />

  <!-- OpenGraph / Social -->
  <meta property="og:title" content="{% block og_title %}BlinkPDF â€” Free Online PDF Toolkit{% endblock %}">
  <meta property="og:description"
        content="{% block og_desc %}All-in-one PDF tools for documents, images and AI workflows.{% endblock %}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:image" content="{{ url_for('static', filename='img/preview.png') }}">

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="BlinkPDF â€” Online PDF Tools" />
  <meta name="twitter:description" content="Fast, secure and free PDF tools & AI." />
  <meta name="twitter:image" content="{{ url_for('static', filename='img/preview.png') }}" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class'
    };
  </script>

  {% block head %}{% endblock %}
</head>

<body class="bg-[#fbfbfd] dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors">

<nav class="bg-white dark:bg-gray-900 shadow sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">

    <!-- LOGO (no gap issue now) -->
    <a href="{{ url_for('index') }}" class="text-xl font-bold tracking-wide text-violet-600">
      BlinkPDF
    </a>

    <!-- DESKTOP MENU -->
    <div class="hidden md:flex space-x-6 text-sm font-semibold">
      <a href="{{ url_for('index') }}" class="text-violet-600 dark:text-white hover:text-violet-700">Home</a>
      <a href="{{ url_for('ai_tools_page') }}" class="text-violet-600 dark:text-white hover:text-violet-700">AI Tools</a>
      <a href="{{ url_for('tool_page', slug='compress-pdf') }}" class="text-violet-600 dark:text-white hover:text-violet-700">Compress PDF</a>
      <a href="{{ url_for('tool_page', slug='merge-pdf') }}" class="text-violet-600 dark:text-white hover:text-violet-700">Merge PDF</a>
    </div>

    <!-- MOBILE HAMBURGER (FIXED ID) -->
    <button id="mobileBtn" class="md:hidden text-violet-600 dark:text-white" onclick="toggleMenu()">
      <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

  </div>

  <!-- MOBILE DROPDOWN -->
  <div id="mobileMenu" class="hidden md:hidden bg-white dark:bg-gray-900 px-4 pb-4">
    <a href="{{ url_for('index') }}" class="block py-2 text-violet-600 dark:text-white font-semibold">Home</a>
    <a href="{{ url_for('ai_tools_page') }}" class="block py-2 text-violet-600 dark:text-white font-semibold">AI Tools</a>
    <a href="{{ url_for('tool_page', slug='compress-pdf') }}" class="block py-2 text-violet-600 dark:text-white font-semibold">Compress PDF</a>
    <a href="{{ url_for('tool_page', slug='merge-pdf') }}" class="block py-2 text-violet-600 dark:text-white font-semibold">Merge PDF</a>
  </div>
</nav>

<!-- MAIN -->
<main class="max-w-7xl mx-auto px-4 py-8">
  {% block content %}{% endblock %}
</main>

<!-- FOOTER -->
<footer class="border-t border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 mt-10">
  <div class="max-w-7xl mx-auto px-4 py-4 text-xs sm:text-sm flex flex-col sm:flex-row items-center justify-between gap-2">
    <span>Â© {{ 2025 }} BlinkPDF. All rights reserved.</span>
    <span class="text-slate-500 dark:text-slate-400">Fast â€¢ Private â€¢ No signup</span>
  </div>
</footer>

<!-- Scripts -->
<script>
  /* ===== MOBILE MENU FIX ===== */
  function toggleMenu() {
    const menu = document.getElementById("mobileMenu");
    if (menu) {
      menu.classList.toggle("hidden");
    }
  }

  /* ===== DARK MODE ===== */
  const root = document.documentElement;
  const toggleBtn = document.getElementById('themeToggle');
  const toggleBtnMobile = document.getElementById('themeToggleMobile');
  const themeIcon = document.getElementById('themeIcon');

  function applyTheme(mode) {
    if (mode === 'dark') {
      root.classList.add('dark');
      if(themeIcon) themeIcon.textContent = 'â˜€ï¸';
    } else {
      root.classList.remove('dark');
      if(themeIcon) themeIcon.textContent = 'ðŸŒ™';
    }
    localStorage.setItem('theme', mode);
  }

  const savedTheme = localStorage.getItem('theme') || 'light';
  applyTheme(savedTheme);

  if(toggleBtn){
    toggleBtn.addEventListener('click', () => {
      const next = root.classList.contains('dark') ? 'light' : 'dark';
      applyTheme(next);
    });
  }

  if(toggleBtnMobile){
    toggleBtnMobile.onclick = () => {
      const next = root.classList.contains('dark') ? 'light' : 'dark';
      applyTheme(next);
    };
  }
</script>

{% block scripts %}{% endblock %}
</body>
</html>
